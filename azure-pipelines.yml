# Node.js
# Build a general Node.js project with npm.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript

trigger:
- master

jobs:
- job: myJob
  pool:
    vmImage: 'ubuntu-latest'
  steps:
  - task: NodeTool@0
    inputs:
      versionSpec: '16.x'
    displayName: 'Install Node.js'


  - task: AzloadTest@1
    inputs:
      testname: 'azsampletest00'
      tenantId: '72f988bf-86f1-41af-91ab-2d7cd011db47'
      TestDrop: 'tmp'
      TestPlan: 'valid.jmx'
      subscription: '7c71b563-0dc0-4bc0-bcf6-06f8f0516c7a'
      loadTestRes: 'cloudtestres'
      resourcegroup: 'requestworkerdev'
      apikey: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDcvIiwiaWF0IjoxNjMwMjY5NDMxLCJuYmYiOjE2MzAyNjk0MzEsImV4cCI6MTYzMDI3MzMzMSwiX2NsYWltX25hbWVzIjp7Imdyb3VwcyI6InNyYzEifSwiX2NsYWltX3NvdXJjZXMiOnsic3JjMSI6eyJlbmRwb2ludCI6Imh0dHBzOi8vZ3JhcGgud2luZG93cy5uZXQvNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3L3VzZXJzL2I0MmNjZGE3LWFiYWUtNGNkNi1hOWM4LTNjMzg0OTA2NDhlNy9nZXRNZW1iZXJPYmplY3RzIn19LCJhY3IiOiIxIiwiYWlvIjoiRTJZQUF1c21mNFhzQTZ1aXJsdit6REI3MXY2YVcxRDVtK0xEaHc5MWowbExmaGQwbkNFcjR5VElGdlZoLzhZY1NRdituNFZxTGZ6R3JYdy83czlmTUdORmQxSExDZ0E9IiwiYW1yIjpbInJzYSIsIm1mYSJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImRldmljZWlkIjoiOTA4MWE0M2QtNDg4My00ZDFkLTk1ZjctZTAzMTBhODRmNDVlIiwiZmFtaWx5X25hbWUiOiJLdW1hcmkiLCJnaXZlbl9uYW1lIjoiU3dldGEiLCJpcGFkZHIiOiIxMTIuMTk2LjE2My45MiIsIm5hbWUiOiJTd2V0YSBLdW1hcmkiLCJvaWQiOiJiNDJjY2RhNy1hYmFlLTRjZDYtYTljOC0zYzM4NDkwNjQ4ZTciLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMjE0Njc3MzA4NS05MDMzNjMyODUtNzE5MzQ0NzA3LTI3MTQyMzkiLCJwdWlkIjoiMTAwMzIwMDEyRUVGQjZCMCIsInJoIjoiMC5BUm9BdjRqNWN2R0dyMEdScXkxODBCSGJSNVYzc0FUYmpScEd1LTRDLWVHX2UwWWFBSXcuIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiSC1ob2E2UTVXTmlvUXJzaHJsb0RTaEJub280Q1pYUGN6TjFpVjdITHVSWSIsInRpZCI6IjcyZjk4OGJmLTg2ZjEtNDFhZi05MWFiLTJkN2NkMDExZGI0NyIsInVuaXF1ZV9uYW1lIjoic3dldGFrdW1hcmlAbWljcm9zb2Z0LmNvbSIsInVwbiI6InN3ZXRha3VtYXJpQG1pY3Jvc29mdC5jb20iLCJ1dGkiOiI0UHNSZUNtUGZrMjFVQWN2RWlTX0FBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX3RjZHQiOjEyODkyNDE1NDd9.Bh9v3sGTE1TQajgppKV2dRXpJ0dtsK_i11qq5bJ0Ad_HCcuNT4E1s0aMVGqM0T2dmMYxoZ5rNhglDAj9XNhZaJoL_E8buhU7OgVlViomzlvwca09bAR107mhu0mPQtPhs56lhG3ddYkZ6ahQILc-Dggmdy7QeDrvckU7nT_Gz7TPYEUEXFEEiIL8Omd94yWkHPCEVU4HRhZaeu4VNbLEbAZ0axoc6z5b6dUyHQPRZ1KOTp4tJc4NhFmmbXHTX47lh_g9RkQRxprtbkSf0AV3fK5Aq0l463EZSAlwkARK8BvP0KU71QLQ7swnhEytfV0eR_nsQaxGNcOG7mL0usavcA'